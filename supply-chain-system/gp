instead of something like getOwnedProductsBatch, change the logic and test a little bit so that all the product id that an address owns are inide an list that mapping address to that list. also when we want to delete that list so there wont be empty id in that list, bring the last id to the position that the id is empty. so always tehre is an list of items owned by an address, and whenever we want to see the number of that item in the address, we use public balanceOf of the erc1155
aslo check all teh getting logics. for normal users first check all teh balance of them by getting the lists length and then if it was less than 10, get all the nfts, so use the modified getOwnedProductsBatch where it uses only the list of products owned by user and if it was more than 10, get in more iterations if user said in front-end. and for admin, just do the following but get the items id from the nextTokenId -1 and igf it was motre than 10, get it in more iterations if user wanted. tehn be careful that it works with the front-end